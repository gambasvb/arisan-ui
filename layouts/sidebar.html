<!-- Logo -->
<div class="flex items-center h-16 border-b border-gray-100 dark:border-dark-border px-4 transition-all"
    :class="sidebarMini ? 'justify-center' : 'justify-start gap-3'">
    <div class="w-8 h-8 rounded-lg bg-brand-600 text-white flex items-center justify-center flex-shrink-0">
        <i class="fa-solid fa-layer-group text-sm"></i>
    </div>
    <span
        class="font-bold text-xl text-brand-600 dark:text-brand-400 whitespace-nowrap overflow-hidden transition-opacity duration-300"
        :class="sidebarMini ? 'opacity-0 w-0' : 'opacity-100'">
        Arisan UI
    </span>
</div>

<!-- Menu -->
<nav class="flex-1 overflow-y-auto no-scrollbar py-4 space-y-1" id="sidebar-nav">

    <!-- Dashboard -->
    <a href="/index.html" data-link="dashboard"
        class="flex items-center gap-3 px-4 py-3 mx-2 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl transition group relative">
        <i class="fa-solid fa-grid-2 w-5 text-center flex-shrink-0"></i>
        <span
            class="font-bold whitespace-nowrap overflow-hidden transition-all duration-300 sidebar-text">Dashboard</span>

        <!-- Tooltip for Mini Mode -->
        <div x-show="sidebarMini"
            class="absolute left-full top-2 ml-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition whitespace-nowrap z-50 pointer-events-none">
            Dashboard
        </div>
    </a>

    <!-- Profile (Sample Single Item) -->
    <a href="/pages/profile.html" data-link="profile"
        class="flex items-center gap-3 px-4 py-3 mx-2 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl transition group relative">
        <i class="fa-regular fa-user w-5 text-center flex-shrink-0"></i>
        <span
            class="font-bold whitespace-nowrap overflow-hidden transition-all duration-300 sidebar-text">Profile</span>

        <!-- Tooltip for Mini Mode -->
        <div x-show="sidebarMini"
            class="absolute left-full top-2 ml-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition whitespace-nowrap z-50 pointer-events-none">
            Profile
        </div>
    </a>

    <!-- Modules Header -->
    <p class="px-6 text-xs font-bold text-gray-400 uppercase tracking-wider mt-6 mb-2 group-header transition-opacity duration-300"
        :class="sidebarMini ? 'opacity-0 hidden' : 'opacity-100'">
        Modules
    </p>
    <div x-show="sidebarMini" class="h-4"></div> <!-- Spacer for mini -->

    <!-- Core Components (Submenu) -->
    <div class="relative group">
        <button @click="toggleSubmenu('core')"
            class="w-full flex items-center justify-between px-4 py-3 mx-2 pr-8 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl transition relative">
            <div class="flex items-center gap-3">
                <i class="fa-solid fa-cube w-5 text-center flex-shrink-0"></i>
                <span class="font-bold sidebar-text whitespace-nowrap">Components</span>
            </div>
            <i class="fa-solid fa-chevron-down text-xs transition-transform duration-300 sidebar-text"
                :class="isSubmenuOpen('core') ? 'rotate-180' : ''"></i>

            <!-- Mini Mode Tooltip -->
            <div x-show="sidebarMini"
                class="absolute left-full top-2 ml-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition whitespace-nowrap z-50 pointer-events-none">
                Components
            </div>
        </button>

        <!-- Submenu Items -->
        <div class="submenu overflow-hidden bg-gray-50 dark:bg-gray-800/50 mx-2 rounded-b-xl"
            :class="isSubmenuOpen('core') && !sidebarMini ? 'open' : ''"
            :style="isSubmenuOpen('core') && !sidebarMini ? 'max-height: 500px' : ''">
            <!-- Fallback inline style for safety -->
            <a href="/components/modals.html" data-link="modals"
                class="flex items-center gap-3 px-4 py-2.5 pl-12 text-sm text-gray-500 dark:text-gray-400 hover:text-brand-600 dark:hover:text-brand-400 transition">
                <i class="fa-regular fa-window-maximize w-4 opacity-70"></i> Modals
            </a>
            <a href="/components/tables.html" data-link="tables"
                class="flex items-center gap-3 px-4 py-2.5 pl-12 text-sm text-gray-500 dark:text-gray-400 hover:text-brand-600 dark:hover:text-brand-400 transition">
                <i class="fa-solid fa-table w-4 opacity-70"></i> Tables
            </a>
            <a href="/components/tabs.html" data-link="tabs"
                class="flex items-center gap-3 px-4 py-2.5 pl-12 text-sm text-gray-500 dark:text-gray-400 hover:text-brand-600 dark:hover:text-brand-400 transition">
                <i class="fa-regular fa-folder w-4 opacity-70"></i> Tabs
            </a>
        </div>
    </div>

    <!-- Advanced Modules (Submenu) -->
    <div class="relative group">
        <button @click="toggleSubmenu('advanced')"
            class="w-full flex items-center justify-between px-4 py-3 mx-2 pr-8 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl transition relative">
            <div class="flex items-center gap-3">
                <i class="fa-solid fa-layer-group w-5 text-center flex-shrink-0"></i>
                <span class="font-bold sidebar-text whitespace-nowrap">Advanced</span>
            </div>
            <i class="fa-solid fa-chevron-down text-xs transition-transform duration-300 sidebar-text"
                :class="isSubmenuOpen('advanced') ? 'rotate-180' : ''"></i>

            <!-- Mini Mode Tooltip -->
            <div x-show="sidebarMini"
                class="absolute left-full top-2 ml-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition whitespace-nowrap z-50 pointer-events-none">
                Advanced
            </div>
        </button>

        <div class="submenu overflow-hidden bg-gray-50 dark:bg-gray-800/50 mx-2 rounded-b-xl"
            :class="isSubmenuOpen('advanced') && !sidebarMini ? 'open' : ''"
            :style="isSubmenuOpen('advanced') && !sidebarMini ? 'max-height: 500px' : ''">
            <a href="/modules/charts.html" data-link="charts"
                class="flex items-center gap-3 px-4 py-2.5 pl-12 text-sm text-gray-500 dark:text-gray-400 hover:text-brand-600 dark:hover:text-brand-400 transition">
                <i class="fa-solid fa-chart-pie w-4 opacity-70"></i> Charts
            </a>
            <a href="/modules/gantt.html" data-link="gantt"
                class="flex items-center gap-3 px-4 py-2.5 pl-12 text-sm text-gray-500 dark:text-gray-400 hover:text-brand-600 dark:hover:text-brand-400 transition">
                <i class="fa-solid fa-bars-progress w-4 opacity-70"></i> Gantt
            </a>
            <a href="/modules/date-pickers.html" data-link="date-pickers"
                class="flex items-center gap-3 px-4 py-2.5 pl-12 text-sm text-gray-500 dark:text-gray-400 hover:text-brand-600 dark:hover:text-brand-400 transition">
                <i class="fa-regular fa-calendar w-4 opacity-70"></i> Pickers
            </a>
        </div>
    </div>

</nav>

<!-- Sidebar Footer -->
<div class="p-4 border-t border-gray-200 dark:border-dark-border">
    <button @click="toggleMini()"
        class="w-full flex items-center gap-3 px-4 py-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition hidden lg:flex justify-center">
        <i class="fa-solid fa-chevron-left transition-transform duration-300"
            :class="sidebarMini ? 'rotate-180' : ''"></i>
        <span class="text-sm font-medium sidebar-text">Collapse</span>
    </button>
</div>